!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3_timer=t.d3_timer||{})}(this,function(t){"use strict";function n(){return d||(b(e),d=T.now()+F)}function e(){d=0}function i(){this._call=this._time=this._next=null}function o(t,n,e){var o=new i;return o.restart(t,n,e),o}function r(){n(),++h;for(var t,e=m;e;)(t=d-e._time)>=0&&e._call.call(null,t),e=e._next;--h}function u(t){d=(w=t||T.now())+F,h=v=0;try{r()}finally{h=0,a(),d=0}}function c(){var t=T.now(),n=t-w;n>y&&(F-=n,w=t)}function a(){for(var t,n=m,e=1/0;n;)n._call?(e>n._time&&(e=n._time),n=(t=n)._next):n=t?t._next=n._next:m=n._next;_=t,f(e)}function f(t){if(!h){v&&(v=clearTimeout(v));var n=t-d;n>24?(1/0>t&&(v=setTimeout(u,n)),x&&(x=clearInterval(x))):(x||(x=setInterval(c,y)),h=1,b(u))}}function l(t,n,e){var o=new i;return n=null==n?0:+n,o.restart(function(e){o.stop(),t(e+n)},n,e),o}function s(t,e,o){var r=new i,u=e;return null==e?(r.restart(t,e,o),r):(e=+e,o=null==o?n():+o,r.restart(function c(n){n+=u,r.restart(c,u+=e,o),t(n)},e,o),r)}var m,_,p="0.4.4",h=0,v=0,x=0,y=1e3,w=0,d=0,F=0,T="object"==typeof performance?performance:Date,b="function"==typeof requestAnimationFrame?T===Date?function(t){requestAnimationFrame(function(){t(T.now())})}:requestAnimationFrame:function(t){setTimeout(t,17)};i.prototype=o.prototype={constructor:i,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?n():+i)+(null==e?0:+e),this._next||_===this||(_?_._next=this:m=this,_=this),this._call=t,this._time=i,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}},t.version=p,t.now=n,t.timer=o,t.timerFlush=r,t.timeout=l,t.interval=s});